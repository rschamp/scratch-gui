pool:
  vmImage: 'ubuntu-16.04'
variables:
  CHROMEDRIVER_VERSION: LATEST
  NODE_OPTIONS: --max-old-space-size=8000
  NPM_TAG: latest

steps:
- task: NodeTool@0
  inputs:
    versionSpec: '8'
  displayName: 'Install Node.js'
- task: Npm@1
  displayName: 'npm install'
  inputs:
    command: ci
- task: Npm@1
  displayName: 'npm run build'
  inputs:
    command: custom
    customCommand: run build
- task: Npm@1
  displayName: 'npm run test:integration'
  inputs:
    command: custom
    customCommand: run test:integration
